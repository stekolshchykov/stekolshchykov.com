const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Scene3D-CE9Sbp-m.js","./react-core-gSd2dSvh.js","./vendor-DD4buw6u.js","./three-core-CxdX34lx.js","./three-addons-C-m5gQIz.js","./ui-core-B-1TAk4_.js"])))=>i.map(i=>d[i]);
var At=Object.defineProperty;var Et=(e,t,n)=>t in e?At(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var C=(e,t,n)=>Et(e,typeof t!="symbol"?t+"":t,n);import{j as s,r as g,H as Lt,c as Rt,a as Bt}from"./react-core-gSd2dSvh.js";import{A as Pt,a as Dt,b as It,c as zt,H as Ft,S as Ot,U as Ut,d as $t,e as Gt,f as Wt,E as Vt,g as Ht}from"./ui-core-B-1TAk4_.js";import{a0 as qt,$ as Kt,_ as Ue,Z as Jt,Y as Qt,X as Yt,a2 as Xt,a as et,Q as Zt,V as pe,F as se,m as te,a3 as He,a4 as U,a5 as qe,a6 as eo,a7 as mt,a8 as to,a9 as ht,i as $,aa as oo,ab as $e,ac as ao,ad as ft,u as E,D as we,ae as no,af as so,ag as tt,ah as io,ai as Pe,aj as ro,L as lo,ak as co,al as uo,am as po,an as mo,t as Te,ao as ho,ap as fo,aq as gt,ar as go,w as bo,as as vo,at as Ne,r as ot,au as wo,av as yo,aw as xo,ax as ko,ay as _o,az as Ae,aA as Ke,aB as So,aC as jo,aD as Mo,aE as Co,aF as To,aG as No,aH as Ao,aI as Eo,aJ as Lo,aK as Ro,aL as Bo,aM as Po,aN as Do,o as Io,b as zo,y as Fo,aO as bt,aP as Oo,aQ as vt,aR as Uo,aS as Ge,aT as $o,aU as Go,aV as at}from"./three-core-CxdX34lx.js";import{O as Wo,b as Vo}from"./three-addons-C-m5gQIz.js";import{P as Ho,a as qo}from"./vendor-DD4buw6u.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const Ko="modulepreload",Jo=function(e,t){return new URL(e,t).href},nt={},Qo=function(t,n,a){let o=Promise.resolve();if(n&&n.length>0){let i=function(f){return Promise.all(f.map(w=>Promise.resolve(w).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const c=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),m=u?.nonce||u?.getAttribute("nonce");o=i(n.map(f=>{if(f=Jo(f,a),f in nt)return;nt[f]=!0;const w=f.endsWith(".css"),d=w?'[rel="stylesheet"]':"";if(!!a)for(let h=c.length-1;h>=0;h--){const b=c[h];if(b.href===f&&(!w||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${d}`))return;const v=document.createElement("link");if(v.rel=w?"stylesheet":Ko,w||(v.as="script"),v.crossOrigin="",v.href=f,m&&v.setAttribute("nonce",m),document.head.appendChild(v),w)return new Promise((h,b)=>{v.addEventListener("load",h),v.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function r(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return o.then(i=>{for(const c of i||[])c.status==="rejected"&&r(c.reason);return t().catch(r)})},wt={ru:{hi_title:"Привет! Вы находитесь на моем сайте резюме!",hi_post_title:"Сайт представлен в виде куба. Для навигации воспользуйтесь клавишами на клавиатуре или кнопками на экране.",hi_nav:"Навигация:",hi_nav_a:"A - приветствие (Вы сейчас здесь)",hi_nav_a2:"A2 - навыки (для перехода ",hi_nav_a3:"A3 - обо мне (для перехода ",hi_nav_b:"B - сотрудничество (для перехода ",hi_nav_c:"C - контакты (для перехода ",hi_nav_d:"D - фриланс-лента (для перехода ",about_me_title:"Обо мне",about_me_post_title:"Кратко обо мне",about_me_info:"<span class='fb'>Имя</span>: Виталий<br><span class='fb'>Фамилия</span>: Стекольщиков<br><span class='fb'>Год рождения</span>: 1988<br><span class='fb'>Образование</span>: MTU Kerry (Software Development, в процессе)<br><span class='fb'>Страна</span>: Ирландия<br><span class='fb'>Город</span>: Килларни<br><span class='fb'>Статус</span>: Холост",about_me_info_full:"Сейчас я живу в Ирландии, в городе Килларни, и учусь в MTU Kerry по направлению Software Development (программирование).<br><br>На волонтерских началах поддерживаю разработку проекта Oliver School в Килларни: мы делаем удобные цифровые решения для учеников и их водителей.<br><br>Параллельно веду несколько проектов полного цикла — от идеи и дизайна до запуска, коммерческой поддержки и развития.<br><br>Сейчас я сфокусирован на AI-автоматизации и выстраивании автономных машин-сотрудников, которые помогают бизнесу ускорять процессы и масштабировать результат.",contacts_title:"Контакты",contacts_phone:"Телефон",cooperation_title:"Сотрудничество",cooperation_post_title:"В настоящее время сотрудничество осуществляется по следующим направлениям:",cooperation_text:"<div class='col-md-3'><h3>Заказчикам</h3></div><div class='col-md-9'><h3>Предоставляются услуги по веб-программированию низкой и средней сложности. Разработка осуществляется по следующему алгоритму:<ol><li>Заказчик делает заказ и предлагает желаемую цену;</li><li>Если исполнитель может выполнить заказ, он составит техническое задание (ТЗ) вместе с заказчиком. Если исполнитель не может выполнить заказ, он предложит альтернативное решение;</li><li>Исполнитель устанавливает сроки и цену на основе ТЗ;</li><li>Если заказчик согласен с ценой и сроками, работа выполняется по частям (от 4 до 10);</li><li>После оплаты первой части исполнитель приступает к выполнению заказа;</li><li>После завершения каждой части заказчик проверяет ее. Если часть выполнена не полностью, заказчик возвращает ее на доработку;</li><li>Если часть выполнена полностью, заказчик оплачивает вторую часть, и исполнитель приступает к выполнению следующей.</li></ol><em>и так далее.</em></h3></div><div class='col-md-3'><h3>Компаниям</h3></div><div class='col-md-9'><h3>С компаниями возможно сотрудничество с различной степенью занятости. При найме на постоянную работу возможно выполнение ТЗ или стажировка.</h3></div><div class='col-md-3'><h3>Разработчикам</h3></div><div class='col-md-9'><h3>Возможное временное или постоянное сотрудничество со специалистами разных уровней в следующих областях:<ul><li>Дизайн;</li><li>Программирование;</li><li>Маркетинг и информационное продвижение;</li><li>Контент-менеджмент.</li></ul></h3></div><div class='col-md-3'><h3>Благотворительным и некоммерческим организациям</h3></div><div class='col-md-9'><h3>Сотрудничество с благотворительными и некоммерческими организациями может быть осуществлено на бесплатной основе. Подробности такого сотрудничества обсуждаются индивидуально.</h3></div>",skills_title:"Навыки",skills_post_title:"Мои навыки, которые могут вас заинтересовать",skills_used_recently:"Использовались недавно",skills_used_before:"Использовались ранее"},en:{hi_title:"Hello! Now you find yourself on my CV website!",hi_post_title:"The site is presented in the form of a cube. To navigate, use the keys on the keyboard or buttons on the screen.",hi_nav:"Navigation:",hi_nav_a:"A - greeting (you are here)",hi_nav_a2:"A2 - skills (to go ",hi_nav_a3:"A3 - about me (to go ",hi_nav_b:"B - collaboration (to go ",hi_nav_c:"C - contacts (to go ",hi_nav_d:"D - freelance-tape (to go ",about_me_title:"About me",about_me_post_title:"Briefly about me",about_me_info:"<span class='fb'>Name</span>: Vitaly<br> <span class='fb'>Surname</span>: Stekolshchykov<br><span class='fb'>Year of birth</span>: 1988<br><span class='fb'>Education</span>: MTU Kerry (Software Development, in progress)<br><span class='fb'>Country</span>: Ireland<br> <span class='fb'>City</span>: Killarney<br> <span class='fb'>Status</span>: Single",about_me_info_full:"I currently live in Killarney, Ireland, and I am studying Software Development at MTU Kerry.<br><br>On a volunteer basis, I support the Oliver School project in Killarney, where we are building practical digital tools for students and their drivers.<br><br>I also run several full-cycle projects — from idea and design to production launch, commercial support, and ongoing growth.<br><br>Right now I am focused on AI automation and building autonomous digital employee systems that help businesses speed up processes and scale outcomes.",contacts_title:"Contacts",contacts_phone:"Phone",cooperation_title:"Collaboration",cooperation_post_title:"Currently, collaboration is performed in the areas as follows:",cooperation_text:"<div class='col-md-3'><h3>Customers</h3></div><div class='col-md-9'><h3>The services for low and medium complexity web programming are provided. The programming is carried out according to the following pattern:<ol><li>A customer makes an order and proposes a preferred price;</li><li>If the executive is able to fulfill the order, they will compile the terms of reference (TOR) together with the customer. If the executive fails to fulfill the order, they will offer an alternative way of its implementation;</li><li>The executive sets the timelines and price based on the TOR;</li><li>If the customer agrees with the price and timelines, the work will be performed in parts (from 4 to 10);</li><li>When the first part is paid, the executive proceeds to implement the order;</li><li>When any part is completed, the customer checks it. If a part is not completed, the customer sends it back for an update;</li><li>If the part is completed, the customer pays for the second one, and after that, the executive starts to implement it.</li></ol><em>and so on and so forth.</em></h3></div><div class='col-md-3'><h3>Companies</h3></div><div class='col-md-9'><h3>Collaboration with companies provides full or partial employment. If a permanent employment is obtained, performance of TOR or probation period is admissible.</h3></div><div class='col-md-3'><h3>Developers</h3></div><div class='col-md-9'><h3>Possible temporary or permanent collaboration with specialists of different levels in the following areas:<ul><li>Design;</li><li>Programming;</li><li>Marketing promotion and information;</li><li>Content management.</li></ul></h3></div><div class='col-md-3'><h3>Charitable and non-profit organizations</h3></div><div class='col-md-9'><h3>Collaboration with charitable and non-profit organizations could be performed on a gratuitous basis. Details of such cooperation are discussed in an individual talk.</h3></div>",skills_title:"Skills",skills_post_title:"My skills that might interest you",skills_used_recently:"Used recently",skills_used_before:"Used before"},uk:{hi_title:"Привіт! Ви на моєму сайті резюме!",hi_post_title:"Сайт представлений у вигляді куба. Для навігації скористайтеся клавішами на клавіатурі або кнопками на екрані.",hi_nav:"Навігація:",hi_nav_a:"A - привітання (ви зараз тут)",hi_nav_a2:"A2 - навички (для переходу ",hi_nav_a3:"A3 - про мене (для переходу ",hi_nav_b:"B - співпраця (для переходу ",hi_nav_c:"C - контакти (для переходу ",hi_nav_d:"D - фриланс-стрічка (для переходу ",about_me_title:"Про мене",about_me_post_title:"Коротко про мене",about_me_info:"<span class='fb'>Ім'я</span>: Віталій<br><span class='fb'>Прізвище</span>: Стекольщиков<br><span class='fb'>Рік народження</span>: 1988<br><span class='fb'>Освіта</span>: MTU Kerry (Software Development, у процесі)<br><span class='fb'>Країна</span>: Ірландія<br><span class='fb'>Місто</span>: Кілларні<br><span class='fb'>Статус</span>: Неодружений",about_me_info_full:"Зараз я живу в Ірландії, у місті Кілларні, та навчаюся в MTU Kerry за напрямом Software Development (програмування).<br><br>На волонтерських засадах підтримую розробку проєкту Oliver School у Кілларні: ми створюємо зручні цифрові рішення для учнів і їхніх водіїв.<br><br>Паралельно веду кілька проєктів повного циклу — від ідеї та дизайну до запуску, комерційної підтримки й подальшого розвитку.<br><br>Зараз я сфокусований на AI-автоматизації та побудові автономних машин-співробітників, які допомагають бізнесу прискорювати процеси й масштабувати результат.",contacts_title:"Контакти",contacts_phone:"Телефон",cooperation_title:"Співпраця",cooperation_post_title:"В даний час співпраця здійснюється за наступними напрямками:",cooperation_text:"<div class='col-md-3'><h3>Замовникам</h3></div><div class='col-md-9'><h3>Надаються послуги з веб-програмування низької та середньої складності. Розробка здійснюється за наступним алгоритмом:<ol><li>Замовник робить замовлення та пропонує бажану ціну;</li><li>Якщо виконавець може виконати замовлення, він складе технічне завдання (ТЗ) разом із замовником. Якщо виконавець не може виконати замовлення, він запропонує альтернативне рішення;</li><li>Виконавець встановлює терміни і ціну на основі ТЗ;</li><li>Якщо замовник погоджується з ціною і термінами, робота виконується частинами (від 4 до 10);</li><li>Після оплати першої частини виконавець приступає до виконання замовлення;</li><li>Після завершення кожної частини замовник перевіряє її. Якщо частина виконана не повністю, замовник повертає її на доопрацювання;</li><li>Якщо частина виконана повністю, замовник оплачує другу частину, і виконавець приступає до виконання наступної.</li></ol><em>і так далі.</em></h3></div><div class='col-md-3'><h3>Компаніям</h3></div><div class='col-md-9'><h3>З компаніями можливе співробітництво з різною степеню зайнятості. При наймі на постійну роботу можливе виконання ТЗ або стажування.</h3></div><div class='col-md-3'><h3>Розробникам</h3></div><div class='col-md-9'><h3>Можливе тимчасове або постійне співробітництво зі спеціалістами різного рівня в наступних областях:<ul><li>Дизайн;</li><li>Програмування;</li><li>Маркетинг і інформаційне просування;</li><li>Контент-менеджмент.</li></ul></h3></div><div class='col-md-3'><h3>Благодійним і неприбутковим організаціям</h3></div><div class='col-md-9'><h3>Співпраця з благодійними та неприбутковими організаціями може бути здійснена на безкоштовній основі. Деталі такої співпраці обговорюються індивідуально.</h3></div>",skills_title:"Навички",skills_post_title:"Мої навички, які можуть вас зацікавити",skills_used_recently:"Використовувалися недавно",skills_used_before:"Використовувалися раніше"}},Ee={ru:{personName:"Виталий Стекольщиков",personRole:"Software Developer",welcome:"Приветствие",about:"Обо мне",skills:"Навыки",cooperation:"Сотрудничество",contacts:"Контакты",work:"GitHub активность",language:"Язык",viewProject:"Открыть проект",aboutPhotoAlt:"Виталий Стекольщиков",contactEmail:"Email",contactSkype:"Skype",contactTelegram:"Telegram",workTitle:"GitHub активность"},en:{personName:"Vitaly Stekolshchykov",personRole:"Software Developer",welcome:"Welcome",about:"About",skills:"Skills",cooperation:"Collaboration",contacts:"Contacts",work:"GitHub activity",language:"Language",viewProject:"Open project",aboutPhotoAlt:"Vitaly Stekolshchykov",contactEmail:"Email",contactSkype:"Skype",contactTelegram:"Telegram",workTitle:"GitHub activity"},uk:{personName:"Віталій Стекольщиков",personRole:"Software Developer",welcome:"Привітання",about:"Про мене",skills:"Навички",cooperation:"Співпраця",contacts:"Контакти",work:"GitHub активність",language:"Мова",viewProject:"Відкрити проєкт",aboutPhotoAlt:"Віталій Стекольщиков",contactEmail:"Email",contactSkype:"Skype",contactTelegram:"Telegram",workTitle:"GitHub активність"}},Yo=[{name:"HTML",level:90},{name:"CSS",level:90},{name:"SASS",level:90},{name:"Strapi",level:70},{name:"NPM scripts",level:80},{name:"PHP",level:60},{name:"Blender",level:30},{name:"JS",level:75},{name:"Testing(cypress, mocha, chai...)",level:50},{name:"SH script",level:85},{name:"Angular",level:65},{name:"React",level:70},{name:"NextJS",level:70},{name:"Bootstrap",level:60},{name:"taiga-ui",level:50},{name:"Git",level:80},{name:"Node.js",level:70},{name:"Electron",level:60},{name:"NPM",level:80},{name:"SWIFT",level:30},{name:"RIDE",level:60},{name:"MySQL/MongoDB/Postgres",level:40},{name:"Linux serve",level:50},{name:"Docker",level:60},{name:"Kubernetes",level:50},{name:"GitLab CI/CD",level:50},{name:"GitHub CI/CD",level:40},{name:"Gulp/Grunt",level:40},{name:"Figma/Pixso",level:60}],Xo=[{name:"Swagger",level:60},{name:"Firebase",level:30},{name:"Ionic",level:30},{name:"Dart",level:35},{name:"React Native",level:10},{name:"Python",level:20},{name:"JAVA",level:20},{name:"C/С++/C#",level:10},{name:"Delphi",level:5},{name:"Webpack",level:40},{name:"Photoshop",level:40},{name:"Management, organization of work teams",level:60}],ge={email:"stekolshchykov@gmail.com",phone:"0879906161",telegram:"@stekolshchykov"},st="https://stekolshchykov.com",Je="stekolshchykov",Zo=`https://github.com/${Je}`,ea=[{title:"Waves DAO",url:"https://dao.wavesassociation.org/"},{title:"Waves enterprise",url:"https://wavesenterprise.com/"},{title:"Waves keeper",url:"https://keeper-wallet.app/"},{title:"Waves labs",url:"https://waveslabs.com/"},{title:"Waves school",url:"https://wavesschool.com/"},{title:"Waves Ducks",url:"https://wavesducks.com/"},{title:"Waves tech",url:"https://waves.tech/"},{title:"WE vote",url:"https://we.vote/"},{title:"gitlab-env-generator",url:"https://www.npmjs.com/package/strapi-3-deep-export-to-csv-plugin"},{title:"strapi-3-deep-export-to-csv-plugin",url:"https://www.npmjs.com/package/gitlab-env-generator"},{title:"LESK Android",url:"https://play.google.com/store/apps/details?id=ru.lesk.mobapp&hl=ru"},{title:"LESK iOS",url:"https://apps.apple.com/ru/app/%D0%BB%D1%8D%D1%81%D0%BA-%D0%BB%D0%B8%D1%87%D0%BD%D1%8B%D0%B9-%D0%BA%D0%B0%D0%B1%D0%B8%D0%BD%D0%B5%D1%82-%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%B0/id1136740155"},{title:"FISSMAN Android",url:"https://play.google.com/store/apps/details?id=com.team.noty.fissman&hl=ru"},{title:"FISSMAN iOS",url:"https://apps.apple.com/ru/app/fissman/id1292355160"},{title:"Crab",url:"https://github.com/StekolschikovV/crab"},{title:"brain-plus-plus",url:"https://github.com/StekolschikovV/brain-plus-plus"},{title:"Solar System",url:"https://stekolschikovv.github.io/Solar-System/"},{title:"miniature",url:"https://github.com/doreminiature/miniature"},{title:"VYoutubeDownloader",url:"https://github.com/StekolschikovV/VYoutubeDownloader"},{title:"Искать на торрентах",url:"https://chrome.google.com/webstore/detail/ldifejjbhohmbcmepeoapookgnilmjlk/preview?hl=ru&authuser=0"},{title:"ОЗВУЧИТЬ ТЕКСТ",url:"https://chrome.google.com/webstore/detail/kpnkbhknpcppndkdibmjpfibifahoppf/preview?hl=ru&authuser=0"},{title:"Ojos azul",url:"https://github.com/StekolschikovV/Ojos-azul"},{title:"FlowerDelivery",url:"https://github.com/StekolschikovV/FlowerDelivery"},{title:"BattleBlocks",url:"https://stekolschikovv.github.io/BattleBlocks/"},{title:"vk-bot",url:"https://github.com/StekolschikovV/vk-bot-for-groups"},{title:"Arina Kravchuk",url:"http://arinakravchuk.com/"},{title:"Rheumatology",url:"http://rheumatology.newyorkmarketing.nyc/"},{title:"Video limit time",url:"https://codepen.io/stekolschikov/pen/ezvOqQ"},{title:"CMD",url:"http://rheumatology.newyorkmarketing.nyc/"},{title:"GAP",url:"http://glamourandpet.nyad.nyc/"},{title:"BTH",url:"http://www.physicaltherapybrooklyn.com/"},{title:"sflower",url:"http://www.sflower.co.il/"},{title:"machsan",url:"http://www.machsan.co.il/"},{title:"blinok",url:"http://www.blinok.ua/"},{title:"makesold",url:"http://www.makesold.com/"},{title:"timestyle",url:"http://www.timestyle.com.ua/"},{title:"ekstrakt-trav",url:"http://ekstrakt-trav.com/"},{title:"English tutor",url:"http://english-tutor-ann.com/"},{title:"fleur-parfum",url:"http://fleur-parfum.com/"},{title:"hillula",url:"http://hillula.glenview-locksmith.com/"},{title:"Analytics",url:"https://youtu.be/mKI3xMdzmfM"},{title:"react-tifgrv",url:"https://stackblitz.com/edit/react-tifgrv"},{title:"vBot",url:"https://www.youtube.com/playlist?list=PLzGr33BqXqFUhWDot5EzDFhjpBItIvgQU"},{title:"Gist script",url:"https://chrome.google.com/webstore/detail/gist-script/ickdjfkdgfpkjanbmjepbabbdmiijdpm?hl=ru"},{title:"NNMCLUB",url:"https://chrome.google.com/webstore/detail/nnmclub/jlaiddkhjabbbigfglnpbmojdckegoga?hl=ru"},{title:"Owl reader",url:"https://chrome.google.com/webstore/detail/owl-reader/gmecdgihcpaladeedjghilonehdjbehi?hl=ru"},{title:"https://infovizion.ru",url:"https://infovizion.ru"},{title:"goodday",url:"http://goodday.od.ua/"},{title:"CV Yeromina",url:"http://yeromina.com/"},{title:"React Native: Школа 28 Демо",url:"https://play.google.com/store/apps/details?id=com.stekolschikov.school28demo"},{title:"React Native: ПБ курс валют",url:"https://play.google.com/store/apps/details?id=com.stekolschikov.pbExchangeRates"},{title:"TT: blagoy-art",url:"https://github.com/StekolschikovV/blagoy-art"},{title:"Start Tab",url:"https://chrome.google.com/webstore/detail/start-tab/gmojlojcopjciigdbdddmbnpkamcijmk?hl=ru"},{title:"Conf: get-site-ip-react.js-php",url:"https://github.com/StekolschikovV/get-site-ip-react.js-php"},{title:"artCalc",url:"https://github.com/StekolschikovV/artCalc"},{title:"KinoOline",url:"https://github.com/StekolschikovV/KinoOline"}];function ta(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function it(e){let t=e;return t=t.replace(/<script[\s\S]*?<\/script>/gi,""),t=t.replace(/<style[\s\S]*?<\/style>/gi,""),t=t.replace(/\son\w+=(?:"[^"]*"|'[^']*'|[^\s>]+)/gi,""),t=t.replace(/\sstyle=(?:"[^"]*"|'[^']*')/gi,""),t=t.replace(/\sxmlns(:\w+)?=(?:"[^"]*"|'[^']*')/gi,""),t=t.replace(/javascript:/gi,""),t=t.replace(/<a\s+([^>]*?)>/gi,(n,a)=>{const o=a.match(/\bhref\s*=\s*(?:"([^"]*)"|'([^']*)'|([^\s>]+))/i),r=o?.[1]??o?.[2]??o?.[3]??"";return/^(https?:|mailto:|tel:|\/|#)/i.test(r)?`<a href="${ta(r)}" target="_blank" rel="noreferrer noopener">`:"<a>"}),t=t.replace(/<(?!\/?(?:br|ol|ul|li|em|strong|b|i|p|a)(?=>|\s.*>))\/?[^>]+>/gi,""),t.trim()}function We(e){if(typeof document>"u")return e;const t=document.createElement("textarea");return t.innerHTML=e,t.value}function Qe(e){return We(e.replace(/<br\s*\/?>/gi,`
`).replace(/<\/p>/gi,`
`).replace(/<[^>]+>/g,"")).replace(/\n{3,}/g,`

`).trim()}function oa(e){return Qe(e).split(`
`).map(t=>t.trim()).filter(Boolean).map(t=>{const[n,...a]=t.split(":");return{label:n.trim(),value:a.join(":").trim()}}).filter(t=>t.label.length>0&&t.value.length>0)}function aa(e){return Qe(e).split(/\n{2,}/).map(t=>t.trim()).filter(Boolean)}function na(e){const t=/<div class=['"]col-md-3['"]>\s*<h3>([\s\S]*?)<\/h3>\s*<\/div>\s*<div class=['"]col-md-9['"]>\s*<h3>([\s\S]*?)<\/h3>\s*<\/div>/g,n=[];let a=t.exec(e);for(;a;)n.push({title:Qe(a[1]),bodyHtml:it(We(a[2]))}),a=t.exec(e);return n.length===0?[{title:"",bodyHtml:it(We(e))}]:n}const sa={ru:{show:"Показать",hide:"Скрыть",more:"Показать еще"},en:{show:"Show",hide:"Hide",more:"Show more"},uk:{show:"Показати",hide:"Сховати",more:"Показати ще"}};function ia(e){return sa[e]}function ra(e){const t=e.trim();if(t.length<=2)return t;const n=t.slice(0,2),a=Math.max(6,Math.min(12,t.length-2));return`${n}${"*".repeat(a)}`}const la={welcome:{x:0,y:0},skills:{x:0,y:Math.PI},about:{x:0,y:-Math.PI/2},cooperation:{x:0,y:Math.PI/2},contacts:{x:Math.PI/2,y:0},work:{x:-Math.PI/2,y:0}},ye={welcome:"A",skills:"A2",about:"A3",cooperation:"B",contacts:"C",work:"D"},De={welcome:{up:"contacts",left:"about",down:"work",right:"cooperation"},skills:{up:"contacts",left:"cooperation",down:"work",right:"about"},about:{up:"contacts",left:"skills",down:"work",right:"welcome"},cooperation:{up:"contacts",left:"welcome",down:"work",right:"skills"},contacts:{up:"skills",left:"about",down:"welcome",right:"cooperation"},work:{up:"welcome",left:"about",down:"skills",right:"cooperation"}};function ca(e){const t=e.toLowerCase();return t==="arrowup"||t==="keyw"?"up":t==="arrowdown"||t==="keys"?"down":t==="arrowleft"||t==="keya"?"left":t==="arrowright"||t==="keyd"?"right":null}function Q(...e){return e.filter(Boolean).join(" ")}function pn({children:e,className:t,...n}){return s.jsx("div",{className:Q("face-page",t),...n,children:e})}function mn({children:e,className:t,...n}){return s.jsx("div",{className:Q("face-pill",t),...n,children:e})}function hn({children:e,className:t,...n}){return s.jsx("h2",{className:Q("face-title",t),...n,children:e})}function fn({children:e,className:t,...n}){return s.jsx("p",{className:Q("face-lead",t),...n,children:e})}function gn({children:e,className:t,...n}){return s.jsx("div",{className:Q("face-block",t),...n,children:e})}function yt({active:e,className:t,...n}){return s.jsx("button",{type:"button",className:Q("lang-btn",e&&"is-active",t),...n})}function ua({active:e,className:t,...n}){return s.jsx("button",{type:"button",className:Q("mobile-tab",e&&"is-active",t),...n})}function da({className:e,...t}){return s.jsx("button",{type:"button",className:Q("contact-eye",e),...t})}function pa({direction:e,fallback:t}){switch(e){case"up":return s.jsx(zt,{size:21,strokeWidth:2.4,"aria-hidden":!0});case"down":return s.jsx(It,{size:21,strokeWidth:2.4,"aria-hidden":!0});case"left":return s.jsx(Dt,{size:21,strokeWidth:2.4,"aria-hidden":!0});case"right":return s.jsx(Pt,{size:21,strokeWidth:2.4,"aria-hidden":!0});default:return s.jsx(s.Fragment,{children:t??""})}}function Me({active:e,pressed:t,code:n,arrow:a,direction:o,label:r,className:i,...c}){const{ariaKeyShortcuts:u,...m}=c;return s.jsxs("button",{type:"button",className:Q("nav-key",e&&"is-active",t&&"is-pressed",i),"aria-keyshortcuts":u,...m,children:[s.jsx("span",{className:"key-meta",children:n}),s.jsx("span",{className:"key-arrow",children:s.jsx(pa,{direction:o,fallback:a})}),s.jsx("span",{className:"key-label",children:r})]})}function Ie({className:e,...t}){return s.jsx("a",{className:e,...t})}function bn({children:e,className:t,...n}){return s.jsx("ul",{className:Q("face-list",t),...n,children:e})}function vn({children:e,className:t,...n}){return s.jsx("li",{className:Q("face-list-item",t),...n,children:e})}const Ye="stekolshchykov-runtime-logs",xt="stekolshchykov-runtime-logs-enabled",Ve=3e3;let ze=null,rt=!1;const oe=ma();function xe(){return typeof window>"u"||!window.localStorage?null:window.localStorage}function kt(){const e=xe();if(!e)return!0;const t=e.getItem(xt);return t===null?!0:t!=="false"}function ma(){const e=xe();if(!e)return[];try{const t=e.getItem(Ye);if(!t)return[];const n=JSON.parse(t);return Array.isArray(n)?n.slice(-Ve):[]}catch{return[]}}function ha(){ze===null&&(ze=window.setTimeout(()=>{ze=null;const e=xe();if(e)try{e.setItem(Ye,JSON.stringify(oe))}catch{}},200))}function fa(e){if(e!==void 0)try{return JSON.parse(JSON.stringify(e))}catch{return String(e)}}function ga(e){return e.startsWith("navigation.")?"navigation":e.startsWith("scene.whale.")?"scene.whale":e.startsWith("scene.blackhole.")?"scene.blackhole":e.startsWith("scene.performance.")?"performance":e.startsWith("scene.render.")?"scene":"app"}function D(e,t,n,a){if(!kt())return;const o={ts:new Date().toISOString(),level:e,scope:t,message:n,data:fa(a)};oe.push(o),oe.length>Ve&&oe.splice(0,oe.length-Ve),typeof window<"u"&&ha();const r=`[${o.ts}] [${e.toUpperCase()}] [${t}] ${n}`;e==="error"?console.error(r,o.data??""):e==="warn"?console.warn(r,o.data??""):e==="debug"?console.debug(r,o.data??""):console.info(r,o.data??"")}function Fe(e,t,n="info"){D(n,ga(e),e,{event:e,...t&&typeof t=="object"?t:{value:t}});const a=oe[oe.length-1];a&&(a.event=e)}function _t(){return[...oe]}function ba(){oe.length=0;const e=xe();if(e)try{e.removeItem(Ye)}catch{}}function va(e){const t=xe();t&&t.setItem(xt,e?"true":"false")}function wa(e=`runtime-log-${Date.now()}.json`){if(typeof window>"u")return;const t=JSON.stringify(_t(),null,2),n=new Blob([t],{type:"application/json"}),a=URL.createObjectURL(n),o=document.createElement("a");o.href=a,o.download=e,o.click(),URL.revokeObjectURL(a)}function ya(){rt||typeof window>"u"||(rt=!0,window.addEventListener("error",e=>{D("error","window","Unhandled error",{message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno})}),window.addEventListener("unhandledrejection",e=>{D("error","window","Unhandled promise rejection",{reason:String(e.reason)})}),window.__APP_LOGGER__={getRuntimeLogs:_t,clearRuntimeLogs:ba,downloadRuntimeLogs:wa,setRuntimeLoggingEnabled:va,help:()=>{console.group("Logger Help"),console.info("getRuntimeLogs() - Returns all stored logs"),console.info("clearRuntimeLogs() - Clears all stored logs"),console.info("downloadRuntimeLogs() - Downloads logs as JSON"),console.info("setRuntimeLoggingEnabled(bool) - Enable/disable logging"),console.groupEnd()}},kt()&&console.log("%c 3D CV %c Logger Active. Type %c__APP_LOGGER__.help()%c for options.","background: #3b82f6; color: white; padding: 2px 4px; border-radius: 2px;","color: #9ca3af","color: #3b82f6; font-weight: bold;","color: #9ca3af"))}const xa="github-private-activity",ka=1e3*60*60*6;function lt(e){return e<=0?0:e===1?1:e===2?2:e===3?3:4}function _a(e,t){const n=t.contributions??[],a=[];let o=0;for(let i=0;i<n.length;i+=7){const c=n.slice(i,i+7).map(u=>{const m=Math.max(0,Math.floor(u.count??0)),f=u.level===void 0?lt(m===0?0:m<=2?1:m<=5?2:m<=8?3:4):lt(u.level);return o+=m,{date:u.date,count:m,level:f}});c.length>0&&a.push(c)}const r=t.total?.lastYear;return{totalContributions:typeof r=="number"?r:o,weeks:a,username:e}}async function Sa(e){const t=`${xa}-${e}`,n=Date.now();let a=null,o=null;if(typeof localStorage<"u"){const i=localStorage.getItem(t);if(i)try{const c=JSON.parse(i);"stats"in c?(a=c.stats??null,o=typeof c.cachedAt=="number"?c.cachedAt:null):a=c}catch(c){console.error("Failed to parse cached github data",c)}}if(a&&o&&n-o<ka)return a;const r=`https://github-contributions-api.jogruber.de/v4/${encodeURIComponent(e)}?y=last`;try{const i=await fetch(r,{headers:{Accept:"application/json"}});if(!i.ok)throw new Error(`GitHub activity request failed (${i.status})`);const c=await i.json(),u=_a(e,c);return typeof localStorage<"u"&&localStorage.setItem(t,JSON.stringify({stats:u,cachedAt:n})),u}catch(i){if(a)return a;throw i}}function ja(){const[e,t]=g.useState(null),[n,a]=g.useState(!0);return g.useEffect(()=>{let o=!0;return Sa(Je).then(r=>{o&&t(r)}).catch(()=>{o&&t(null)}).finally(()=>{o&&a(!1)}),()=>{o=!1}},[]),n?s.jsx("div",{className:"github-heatmap-loading",children:"Loading Activity..."}):e?s.jsxs("div",{className:"github-heatmap-container",children:[s.jsx("div",{className:"github-heatmap-header",children:s.jsxs("span",{className:"github-heatmap-total",children:[e.totalContributions," contributions in the last year"]})}),s.jsx("div",{className:"github-heatmap-scroll",children:s.jsx("div",{className:"github-heatmap-grid",children:e.weeks.map((o,r)=>s.jsx("div",{className:"github-heatmap-column",children:o.map((i,c)=>s.jsx("div",{className:`github-heatmap-cell level-${i.level}`,title:`${i.count} contributions on ${i.date}`},`day-${r}-${c}`))},`week-${r}`))})}),s.jsxs("div",{className:"github-heatmap-footer",children:[s.jsx("span",{children:"Less"}),s.jsxs("div",{className:"github-heatmap-legend",children:[s.jsx("div",{className:"github-heatmap-cell level-0"}),s.jsx("div",{className:"github-heatmap-cell level-1"}),s.jsx("div",{className:"github-heatmap-cell level-2"}),s.jsx("div",{className:"github-heatmap-cell level-3"}),s.jsx("div",{className:"github-heatmap-cell level-4"})]}),s.jsx("span",{children:"More"})]})]}):s.jsx("div",{className:"github-heatmap-loading",children:"Activity unavailable"})}function Ma({locale:e,locales:t,activeFace:n,onFaceChange:a,onLocaleChange:o}){const r=wt[e],i=Ee[e],c=ia(e),u=g.useMemo(()=>oa(r.about_me_info),[r.about_me_info]),m=g.useMemo(()=>aa(r.about_me_info_full),[r.about_me_info_full]),f=g.useMemo(()=>na(r.cooperation_text),[r.cooperation_text]),w=[{id:"welcome",label:i.welcome,Icon:Ft},{id:"skills",label:i.skills,Icon:Ot},{id:"about",label:i.about,Icon:Ut},{id:"cooperation",label:i.cooperation,Icon:$t},{id:"contacts",label:i.contacts,Icon:Gt},{id:"work",label:i.work,Icon:Wt}],d=w.find(l=>l.id===n)??w[0],[j,v]=g.useState({email:!1,skype:!1,phone:!1,telegram:!1}),h=`https://api.qrserver.com/v1/create-qr-code/?size=260x260&data=${encodeURIComponent(st)}`,b=[{key:"email",label:i.contactEmail,value:ge.email,href:`mailto:${ge.email}`},{key:"phone",label:r.contacts_phone,value:ge.phone,href:`tel:${ge.phone}`},{key:"telegram",label:i.contactTelegram,value:ge.telegram,href:`https://t.me/${ge.telegram.replace("@","")}`}],S=l=>{D("info","mobile-contacts","Contact visibility toggled",{key:l,visible:!j[l]}),v(N=>({...N,[l]:!N[l]}))},T=l=>{D("info","mobile-nav","Tab clicked",{from:n,to:l}),a(l)},L=l=>{D("info","mobile-locale","Locale button clicked",{from:e,to:l}),o(l)};return s.jsxs("div",{className:"mobile-site",children:[s.jsx("div",{className:"mobile-cosmos mobile-cosmos--a","aria-hidden":!0}),s.jsx("div",{className:"mobile-cosmos mobile-cosmos--b","aria-hidden":!0}),s.jsxs("header",{className:"mobile-header",children:[s.jsxs("div",{className:"mobile-header-card",children:[s.jsx("span",{className:"mobile-badge",children:"ORBIT MODE"}),s.jsx("p",{className:"mobile-role",children:i.personRole}),s.jsx("h1",{children:i.personName}),s.jsx("p",{className:"mobile-domain",children:"stekolshchykov.com"})]}),s.jsx("div",{className:"lang-switcher","aria-label":i.language,children:t.map(l=>s.jsx(yt,{active:l===e,onClick:()=>L(l),children:l.toUpperCase()},l))})]}),s.jsx("nav",{className:"mobile-tabs","aria-label":"Page navigation",children:w.map(l=>s.jsxs(ua,{active:n===l.id,onClick:()=>T(l.id),children:[s.jsx("span",{className:"mobile-tab__icon","aria-hidden":!0,children:s.jsx(l.Icon,{size:14,strokeWidth:2.2})}),s.jsx("span",{className:"mobile-tab__text",children:l.label})]},l.id))}),s.jsxs("main",{className:"mobile-panel",children:[s.jsxs("div",{className:"mobile-section-intro",children:[s.jsx("span",{className:"mobile-section-intro__icon","aria-hidden":!0,children:s.jsx(d.Icon,{size:16,strokeWidth:2.2})}),s.jsxs("div",{children:[s.jsx("p",{className:"mobile-section-intro__meta",children:ye[n]}),s.jsx("strong",{children:d.label})]})]}),n==="welcome"&&s.jsxs("section",{className:"mobile-section",children:[s.jsx("h2",{children:r.hi_title}),s.jsx("p",{children:r.hi_post_title}),s.jsxs("div",{className:"mobile-qr-card",children:[s.jsx("div",{className:"qr-orbit",children:s.jsx("img",{src:h,alt:"QR to stekolshchykov.com",loading:"lazy"})}),s.jsx(Ie,{href:st,target:"_blank",rel:"noreferrer noopener",children:"stekolshchykov.com"})]})]}),n==="skills"&&s.jsxs("section",{className:"mobile-section",children:[s.jsx("h2",{children:r.skills_title}),s.jsx("p",{children:r.skills_post_title}),s.jsx("h3",{children:r.skills_used_recently}),s.jsx("div",{className:"skill-list",children:Yo.map((l,N)=>s.jsxs("article",{className:"skill-item",children:[s.jsxs("div",{className:"skill-item__head",children:[s.jsx("span",{children:l.name}),s.jsxs("strong",{children:[l.level,"%"]})]}),s.jsx("div",{className:"skill-item__bar",children:s.jsx("div",{style:{width:`${l.level}%`}})})]},`${l.name}-${l.level}-${N}`))}),s.jsx("h3",{children:r.skills_used_before}),s.jsx("div",{className:"skill-list",children:Xo.map((l,N)=>s.jsxs("article",{className:"skill-item is-soft",children:[s.jsxs("div",{className:"skill-item__head",children:[s.jsx("span",{children:l.name}),s.jsxs("strong",{children:[l.level,"%"]})]}),s.jsx("div",{className:"skill-item__bar",children:s.jsx("div",{style:{width:`${l.level}%`}})})]},`${l.name}-${l.level}-${N}`))})]}),n==="about"&&s.jsxs("section",{className:"mobile-section",children:[s.jsx("h2",{children:r.about_me_title}),s.jsx("p",{children:r.about_me_post_title}),s.jsx("img",{className:"mobile-about-photo",src:"/me-2026.jpg",alt:i.aboutPhotoAlt,loading:"lazy"}),s.jsx("div",{className:"mobile-facts",children:u.map(l=>s.jsxs("article",{className:"fact-item",children:[s.jsx("span",{children:l.label}),s.jsx("strong",{children:l.value})]},l.label))}),m.map(l=>s.jsx("p",{children:l},l))]}),n==="cooperation"&&s.jsxs("section",{className:"mobile-section",children:[s.jsx("h2",{children:r.cooperation_title}),s.jsx("p",{children:r.cooperation_post_title}),s.jsx("div",{className:"cooperation-list",children:f.map(l=>s.jsxs("article",{className:"cooperation-item",children:[l.title?s.jsx("h3",{children:l.title}):null,s.jsx("div",{dangerouslySetInnerHTML:{__html:l.bodyHtml}})]},`${l.title}-${l.bodyHtml.slice(0,18)}`))})]}),n==="contacts"&&s.jsxs("section",{className:"mobile-section",children:[s.jsx("h2",{children:r.contacts_title}),s.jsx("div",{className:"contacts-grid",children:b.map(l=>{const N=j[l.key];return s.jsxs("article",{className:"contact-card",children:[s.jsxs("div",{className:"contact-card__head",children:[s.jsx("span",{children:l.label}),s.jsx(da,{onClick:()=>S(l.key),"aria-label":N?c.hide:c.show,children:N?s.jsx(Vt,{size:16}):s.jsx(Ht,{size:16})})]}),N?s.jsx(Ie,{href:l.href,target:l.key==="telegram"?"_blank":void 0,rel:"noreferrer",children:l.value}):s.jsx("p",{className:"contact-hidden",children:ra(l.value)})]},l.key)})})]}),n==="work"&&s.jsxs("section",{className:"mobile-section",children:[s.jsx("h2",{children:i.workTitle}),s.jsxs("div",{className:"github-feed",children:[s.jsxs(Ie,{className:"github-profile-link",href:Zo,target:"_blank",rel:"noreferrer noopener",children:["@",Je]}),s.jsx(ja,{}),s.jsx("div",{className:"work-grid",children:ea.map((l,N)=>s.jsxs("a",{href:l.url,target:"_blank",rel:"noreferrer noopener",className:"work-card",children:[s.jsx("span",{className:"work-card__title",children:l.title}),s.jsx("span",{className:"work-card__arrow",children:"→"})]},`${l.title}-${N}`))})]})]})]},n)]})}function Ca({leaving:e=!1,label:t="Loading experience...",title:n="Portfolio",subtitle:a="3D Cube Portfolio"}){return s.jsx("div",{className:`app-loader${e?" is-leaving":""}`,role:"status","aria-live":"polite","aria-label":t,children:s.jsxs("div",{className:"app-loader__inner",children:[s.jsxs("div",{className:"app-loader__brand",children:[s.jsx("span",{className:"app-loader__tag",children:"PORTFOLIO"}),s.jsx("h1",{className:"app-loader__headline",children:n}),s.jsx("p",{className:"app-loader__descriptor",children:a})]}),s.jsxs("div",{className:"app-loader__orbit-scene","aria-hidden":"true",children:[s.jsx("span",{className:"app-loader__aura"}),s.jsx("span",{className:"app-loader__core"}),s.jsx("span",{className:"app-loader__ring app-loader__ring--outer"}),s.jsx("span",{className:"app-loader__ring app-loader__ring--inner"}),s.jsx("span",{className:"app-loader__orbit app-loader__orbit--a",children:s.jsx("span",{className:"app-loader__satellite app-loader__satellite--a"})}),s.jsx("span",{className:"app-loader__orbit app-loader__orbit--b",children:s.jsx("span",{className:"app-loader__satellite app-loader__satellite--b"})}),s.jsx("span",{className:"app-loader__orbit app-loader__orbit--c",children:s.jsx("span",{className:"app-loader__satellite app-loader__satellite--c"})})]}),s.jsx("p",{className:"app-loader__text",children:t})]})})}function Ta({locale:e,activeFace:t}){const n=Ee[e],a=wt[e],{title:o,description:r}=g.useMemo(()=>{const m=`${n.personName} - ${n.personRole}`;let f=m,w=a.hi_post_title;if(t)switch(t){case"welcome":f=`${n.welcome} | ${m}`;break;case"about":f=`${n.about} | ${m}`,w=a.about_me_info_full.slice(0,150)+"...";break;case"skills":f=`${n.skills} | ${m}`,w=a.skills_post_title;break;case"cooperation":f=`${n.cooperation} | ${m}`;break;case"contacts":f=`${n.contacts} | ${m}`;break;case"work":f=`${n.workTitle} | ${m}`;break}return{title:f,description:w}},[t,n,a]),i=typeof window<"u"?window.location.href:"https://stekolshchykov.com",c="/me-2026.jpg",u=typeof window<"u"?new URL(c,window.location.origin).toString():`https://stekolshchykov.com${c}`;return s.jsxs(Lt,{htmlAttributes:{lang:e},children:[s.jsx("title",{children:o}),s.jsx("meta",{name:"description",content:r}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:i}),s.jsx("meta",{property:"og:title",content:o}),s.jsx("meta",{property:"og:description",content:r}),s.jsx("meta",{property:"og:image",content:u}),s.jsx("meta",{property:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{property:"twitter:url",content:i}),s.jsx("meta",{property:"twitter:title",content:o}),s.jsx("meta",{property:"twitter:description",content:r}),s.jsx("meta",{property:"twitter:image",content:u})]})}class Na{constructor(){C(this,"context",null);C(this,"masterGain",null);C(this,"backgroundTrack",null);C(this,"backgroundBuffer",null);C(this,"backgroundSource",null);C(this,"backgroundSourceGain",null);C(this,"backgroundLoadPromise",null);C(this,"backgroundStarted",!1);C(this,"autoStartInstalled",!1);C(this,"autoStartCleanup",null);C(this,"unlockPromise",null)}getContext(){if(this.context)return this.context;if(typeof window>"u")return null;const t=window,n=window.AudioContext||t.webkitAudioContext;if(!n)return null;const a=new n,o=a.createGain();return o.gain.value=.22,o.connect(a.destination),this.context=a,this.masterGain=o,a}getBackgroundUrl(){return"./assets/audio/space-rumble.mp3"}installAutoStart(){if(typeof window>"u")return()=>{};if(this.autoStartInstalled&&this.autoStartCleanup)return this.autoStartCleanup;const t=()=>{this.unlock(),n()},n=()=>{window.removeEventListener("pointerdown",t),window.removeEventListener("keydown",t),window.removeEventListener("touchstart",t),this.autoStartInstalled=!1,this.autoStartCleanup=null};return window.addEventListener("pointerdown",t,{passive:!0,once:!0}),window.addEventListener("keydown",t,{passive:!0,once:!0}),window.addEventListener("touchstart",t,{passive:!0,once:!0}),this.autoStartInstalled=!0,this.autoStartCleanup=n,n}unlock(){return this.unlockPromise?this.unlockPromise:(this.unlockPromise=(async()=>{const t=this.getContext();if(!t||!this.masterGain)return!1;if(t.state==="suspended")try{await t.resume()}catch{return!1}return await this.startBackgroundMusic(),!0})().finally(()=>{this.unlockPromise=null}),this.unlockPromise)}getBackgroundTrack(){if(this.backgroundTrack)return this.backgroundTrack;if(typeof window>"u")return null;const t=new Audio(this.getBackgroundUrl());return t.preload="auto",t.loop=!0,t.volume=.22,this.backgroundTrack=t,t}async loadBackgroundBuffer(){if(this.backgroundBuffer)return this.backgroundBuffer;if(this.backgroundLoadPromise)return this.backgroundLoadPromise;const t=this.context;return t?(this.backgroundLoadPromise=(async()=>{try{const n=await fetch(this.getBackgroundUrl(),{cache:"force-cache"});if(!n.ok)return null;const a=await n.arrayBuffer(),o=await t.decodeAudioData(a.slice(0));return this.backgroundBuffer=o,o}catch{return null}finally{this.backgroundLoadPromise=null}})(),this.backgroundLoadPromise):null}detectLoopBounds(t){const n=t.getChannelData(0),a=t.sampleRate,o=n.length,r=Math.min(Math.floor(a*5),Math.floor(o*.4)),i=Math.max(64,Math.floor(a*.015)),c=.0016,u=h=>{let b=0;const S=Math.min(o,h+i);for(let L=h;L<S;L+=1){const l=n[L];b+=l*l}return Math.sqrt(b/Math.max(1,S-h))};let m=0;for(let h=0;h<r;h+=Math.max(16,Math.floor(i/4)))if(u(h)>c){m=h;break}let f=o-1;for(let h=o-1;h>o-1-r;h-=Math.max(16,Math.floor(i/4)))if(u(Math.max(0,h-i))>c){f=h;break}const w=m/a,d=(f+1)/a;if(!Number.isFinite(w)||!Number.isFinite(d)||d-w<.5)return{start:0,end:t.duration};const j=Math.max(0,Math.min(w+.02,t.duration-.52)),v=Math.max(j+.5,Math.min(d-.02,t.duration));return{start:j,end:v}}startBackgroundFromBuffer(t){const n=this.context,a=this.masterGain;if(!n||!a)return!1;if(this.backgroundSource){try{this.backgroundSource.stop()}catch{}this.backgroundSource=null}const{start:o,end:r}=this.detectLoopBounds(t),i=n.createBufferSource();i.buffer=t,i.loop=!0,r-o>.25&&(i.loopStart=o,i.loopEnd=r);const c=n.createGain();c.gain.setValueAtTime(1e-4,n.currentTime),c.gain.exponentialRampToValueAtTime(1,n.currentTime+.34),i.connect(c),c.connect(a),i.onended=()=>{this.backgroundSource===i&&(this.backgroundSource=null,this.backgroundSourceGain=null,this.backgroundStarted=!1)};const u=Math.min(Math.max(o,0),Math.max(0,t.duration-.02));return i.start(n.currentTime+.01,u),this.backgroundSource=i,this.backgroundSourceGain=c,this.backgroundStarted=!0,!0}async startBackgroundMusic(){if(this.backgroundStarted)return;const t=await this.loadBackgroundBuffer();if(t&&this.startBackgroundFromBuffer(t))return;const n=this.getBackgroundTrack();if(n)try{await n.play(),this.backgroundStarted=!0}catch{}}playButtonSoundNow(){const t=this.context,n=this.masterGain;if(!t||!n)return;const a=t.currentTime+.002,o=t.createOscillator();o.type="square",o.frequency.setValueAtTime(760,a),o.frequency.exponentialRampToValueAtTime(320,a+.08);const r=t.createGain();r.gain.setValueAtTime(1e-4,a),r.gain.exponentialRampToValueAtTime(.095,a+.006),r.gain.exponentialRampToValueAtTime(1e-4,a+.1);const i=t.createBiquadFilter();i.type="highpass",i.frequency.value=120,o.connect(i),i.connect(r),r.connect(n),o.start(a),o.stop(a+.11)}playRotationSoundNow(){const t=this.context,n=this.masterGain;if(!t||!n)return;const a=t.currentTime+.003,o=t.createOscillator();o.type="sawtooth",o.frequency.setValueAtTime(165,a),o.frequency.exponentialRampToValueAtTime(410,a+.17);const r=t.createGain();r.gain.setValueAtTime(1e-4,a),r.gain.exponentialRampToValueAtTime(.07,a+.03),r.gain.exponentialRampToValueAtTime(1e-4,a+.24);const i=t.createBiquadFilter();i.type="bandpass",i.frequency.value=540,i.Q.value=.78,o.connect(i),i.connect(r),r.connect(n),o.start(a),o.stop(a+.26)}playButtonSound(){this.unlock().then(t=>{t&&this.playButtonSoundNow()})}playRotationSound(){this.unlock().then(t=>{t&&this.playRotationSoundNow()})}}const Xe=new Na;function Aa(){return Xe.installAutoStart()}function ct(){Xe.playButtonSound()}function Ea(){Xe.playRotationSound()}function La(e){const{debugRootEl:t,renderer:n,bloom:a,uniforms:o}=e;t.innerHTML="";const r=new Ho({title:"Debug",container:t,expanded:!1}),i={visible:!0,toneMapping:n.toneMapping,exposure:n.toneMappingExposure,bloomStrength:a?.strength.value??.217,bloomRadius:a?.radius.value??0,bloomThreshold:a?.threshold.value??0,iterations:o.iterations.value,stepSize:o.stepSize.value,noiseFactor:o.noiseFactor.value,power:o.power.value,clamp1:o.clamp1.value,clamp2:o.clamp2.value,originRadius:o.originRadius.value,width:o.width.value,uvMotion:o.uvMotion.value,rampCol1:`#${o.rampCol1.value.getHexString()}`,rampPos1:o.rampPos1.value,rampCol2:`#${o.rampCol2.value.getHexString()}`,rampPos2:o.rampPos2.value,rampCol3:`#${o.rampCol3.value.getHexString()}`,rampPos3:o.rampPos3.value,rampEmission:o.rampEmission.value,emissionColor:`#${o.emissionColor.value.getHexString()}`,backgroundIntensity:o.backgroundIntensity.value};r.addBinding(i,"visible",{label:"UI Visible"}).on("change",d=>{i.visible=!!d.value,t.style.display=i.visible?"block":"none"});const c=r.addFolder({title:"Renderer",expanded:!1});c.addBinding(i,"toneMapping",{label:"Tone Mapping",options:{No:Xt,Linear:Yt,Reinhard:Qt,Cineon:Jt,ACESFilmic:Ue,AgX:Kt,Neutral:qt}}).on("change",d=>{n.toneMapping=d.value}),c.addBinding(i,"exposure",{label:"Exposure",min:0,max:2,step:.01}).on("change",d=>{n.toneMappingExposure=d.value});const u=r.addFolder({title:"Bloom",expanded:!1});u.addBinding(i,"bloomStrength",{label:"Strength",min:0,max:5,step:.001}).on("change",d=>{a&&(a.strength.value=d.value)}),u.addBinding(i,"bloomRadius",{label:"Radius",min:-2,max:1,step:.001}).on("change",d=>{a&&(a.radius.value=d.value)}),u.addBinding(i,"bloomThreshold",{label:"Threshold",min:0,max:1,step:.001}).on("change",d=>{a&&(a.threshold.value=d.value)});const m=r.addFolder({title:"Black Hole",expanded:!1});m.addBinding(i,"iterations",{min:16,max:256,step:1,label:"Iterations"}).on("change",d=>{o.iterations.value=d.value}),m.addBinding(i,"stepSize",{min:.001,max:.02,step:1e-4,label:"Step Size"}).on("change",d=>{o.stepSize.value=d.value}),m.addBinding(i,"noiseFactor",{min:0,max:.1,step:1e-4,label:"Noise Factor"}).on("change",d=>{o.noiseFactor.value=d.value}),m.addBinding(i,"power",{min:0,max:1.5,step:.001,label:"Power"}).on("change",d=>{o.power.value=d.value}),m.addBinding(i,"clamp1",{min:0,max:2,step:.001,label:"Clamp 1"}).on("change",d=>{o.clamp1.value=d.value}),m.addBinding(i,"clamp2",{min:0,max:2,step:.001,label:"Clamp 2"}).on("change",d=>{o.clamp2.value=d.value}),m.addBinding(i,"originRadius",{min:.02,max:.35,step:.001,label:"Origin Radius"}).on("change",d=>{o.originRadius.value=d.value}),m.addBinding(i,"width",{min:.005,max:.15,step:.001,label:"Width"}).on("change",d=>{o.width.value=d.value}),m.addBinding(i,"uvMotion",{min:-5,max:5,step:.001,label:"UV Motion"}).on("change",d=>{o.uvMotion.value=d.value});const f=r.addFolder({title:"Appearance",expanded:!1});return f.addBinding(i,"rampCol1",{label:"Ramp 1"}).on("change",d=>{o.rampCol1.value.set(d.value)}),f.addBinding(i,"rampPos1",{label:"Pos 1",min:0,max:1,step:.001}).on("change",d=>{o.rampPos1.value=d.value}),f.addBinding(i,"rampCol2",{label:"Ramp 2"}).on("change",d=>{o.rampCol2.value.set(d.value)}),f.addBinding(i,"rampPos2",{label:"Pos 2",min:0,max:1,step:.001}).on("change",d=>{o.rampPos2.value=d.value}),f.addBinding(i,"rampCol3",{label:"Ramp 3"}).on("change",d=>{o.rampCol3.value.set(d.value)}),f.addBinding(i,"rampPos3",{label:"Pos 3",min:0,max:1,step:.001}).on("change",d=>{o.rampPos3.value=d.value}),f.addBinding(i,"rampEmission",{label:"Emission",min:0,max:8,step:.001}).on("change",d=>{o.rampEmission.value=d.value}),f.addBinding(i,"emissionColor",{label:"Emissive Tint"}).on("change",d=>{o.emissionColor.value.set(d.value)}),r.addFolder({title:"Background",expanded:!1}).addBinding(i,"backgroundIntensity",{label:"Intensity",min:0,max:6,step:.01}).on("change",d=>{o.backgroundIntensity.value=d.value}),{pane:r,update:()=>{},dispose:()=>{r.dispose()}}}const Ra={size:100,padding:8,primarySize:9,secondarySize:7,showSecondary:!0,lineWidth:2,fontFamily:"arial",fontSize:11,fontWeight:"bold",fontColor:"#151515",colors:{x:["#f73c3c","#942424"],y:["#6ccb26","#417a17"],z:["#178cf0","#0e5490"]}};class St extends HTMLElement{constructor(n,a){super();C(this,"onAxisSelected",null);C(this,"camera");C(this,"options");C(this,"canvas");C(this,"ctx");C(this,"mouse",null);C(this,"selected",null);C(this,"center",new et);C(this,"invCamQuat",new Zt);C(this,"bubbles",[]);this.camera=n,this.options={...Ra,...a??{}},this.style.position="fixed",this.style.left="0",this.style.bottom="0",this.style.zIndex="100000",this.style.padding=`${this.options.padding}px`,this.buildBubbles(),this.innerHTML=`<canvas width="${this.options.size}" height="${this.options.size}"></canvas>`,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onMouseClick=this.onMouseClick.bind(this)}connectedCallback(){const n=this.querySelector("canvas");if(!n)throw new Error("GizmoHelper: missing canvas");this.canvas=n;const a=this.canvas.getContext("2d");if(!a)throw new Error("GizmoHelper: 2D context not available");this.ctx=a,this.center.set(this.canvas.width/2,this.canvas.height/2),this.canvas.addEventListener("mousemove",this.onMouseMove,!1),this.canvas.addEventListener("mouseout",this.onMouseOut,!1),this.canvas.addEventListener("click",this.onMouseClick,!1)}disconnectedCallback(){this.canvas?.removeEventListener("mousemove",this.onMouseMove,!1),this.canvas?.removeEventListener("mouseout",this.onMouseOut,!1),this.canvas?.removeEventListener("click",this.onMouseClick,!1)}update(){if(!this.ctx)return;this.clear(),this.invCamQuat.copy(this.camera.quaternion).invert();for(const a of this.bubbles){a.screen.copy(a.dir).applyQuaternion(this.invCamQuat);const o=this.center.x-this.options.padding-this.options.primarySize;a.screen.set(this.center.x+a.screen.x*o,this.center.y-a.screen.y*o,a.screen.z)}const n=this.bubbles.filter(a=>this.options.showSecondary||!a.axis.startsWith("-")).slice().sort((a,o)=>a.screen.z-o.screen.z);this.selected=this.pick(n),this.draw(n)}buildBubbles(){const n=this.options,a=(o,r,i,c,u,m)=>({axis:o,dir:r,size:i,colors:c,label:u,lineWidth:m,screen:new pe});this.bubbles.push(a("x",new pe(1,0,0),n.primarySize,n.colors.x,"X",n.lineWidth),a("y",new pe(0,1,0),n.primarySize,n.colors.y,"Y",n.lineWidth),a("z",new pe(0,0,1),n.primarySize,n.colors.z,"Z",n.lineWidth),a("-x",new pe(-1,0,0),n.secondarySize,n.colors.x),a("-y",new pe(0,-1,0),n.secondarySize,n.colors.y),a("-z",new pe(0,0,-1),n.secondarySize,n.colors.z))}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}pick(n){if(!this.mouse)return null;let a=null,o=1/0;for(const r of n){const i=this.mouse.x-r.screen.x,c=this.mouse.y-r.screen.y,u=Math.sqrt(i*i+c*c);(u<o||u<r.size)&&(o=u,a=r)}return a}draw(n){const a=this.ctx;for(const o of n){const r=this.selected===o,i=o.screen.z>=-.01,c=r?"#ffffff":i?o.colors[0]:o.colors[1],u=o.screen.x,m=o.screen.y;o.lineWidth&&(a.beginPath(),a.moveTo(this.center.x,this.center.y),a.lineTo(u,m),a.lineWidth=o.lineWidth,a.strokeStyle=c,a.stroke(),a.closePath()),a.beginPath(),a.arc(u,m,o.size,0,Math.PI*2),a.fillStyle=c,a.fill(),a.closePath(),o.label&&(a.font=`${this.options.fontWeight} ${this.options.fontSize}px ${this.options.fontFamily}`,a.fillStyle=this.options.fontColor,a.textAlign="center",a.textBaseline="middle",a.fillText(o.label,u,m))}}onMouseMove(n){const a=this.canvas.getBoundingClientRect();this.mouse||(this.mouse=new et),this.mouse.set(n.clientX-a.left,n.clientY-a.top)}onMouseOut(){this.mouse=null}onMouseClick(){const n=this.selected;n&&this.onAxisSelected&&this.onAxisSelected({axis:n.axis,direction:n.dir.clone()})}}customElements.get("gizmo-helper")||customElements.define("gizmo-helper",St);const Ba=se(([e,t])=>{const n=$(t).toVar(),a=U(e).toVar(),o=$(mt(n)).toVar(),r=$(oo(n)).toVar(),i=$($e(1,r)).toVar();return ao(i.mul(a.x).mul(a.x).add(r),i.mul(a.x).mul(a.y).sub(a.z.mul(o)),i.mul(a.z).mul(a.x).add(a.y.mul(o)),i.mul(a.x).mul(a.y).add(a.z.mul(o)),i.mul(a.y).mul(a.y).add(r),i.mul(a.y).mul(a.z).sub(a.x.mul(o)),i.mul(a.z).mul(a.x).sub(a.y.mul(o)),i.mul(a.y).mul(a.z).add(a.x.mul(o)),i.mul(a.z).mul(a.z).add(r))}).setLayout({name:"rotateAxis",type:"mat3",inputs:[{name:"axis",type:"vec3"},{name:"angle",type:"float"}]}),Pa=se(([e])=>te(e.div(12.92),He(e.add(.055).div(1.055),U(2.4)),qe(.04045,e))),Da=se(([e])=>{const t=e.mul(12.92),n=He(e,U(1/2.4)).mul(1.055).sub(.055);return te(t,n,qe(.0031308,e))}),Ia=se(([e])=>eo(mt(to(e,ht(12.9898,78.233))).mul(43758.5453)),{coord:"vec2",return:"float"}),Ce=se(([e])=>e.x.mul(e.x).add(e.y.mul(e.y)).add(e.z.mul(e.z)).sqrt(),{v:"vec3",return:"float"}),ut=se(([e,t,n,a,o])=>{const r=ft(e.sub(t).div(n.sub(t)),0,1),i=r.mul(r).mul($(3).sub(r.mul(2)));return te(a,o,i)},{value:"float",inMin:"float",inMax:"float",outMin:"float",outMax:"float",return:"float"}),za=se(([e])=>e.r.mul(.2126).add(e.g.mul(.7152)).add(e.b.mul(.0722)).toVar(),{vector:"vec3",return:"float"});function Fa(){return{iterations:E(128),stepSize:E(.0071),noiseFactor:E(.01),power:E(.3),clamp1:E(.5),clamp2:E(1),originRadius:E(.13),width:E(.03),uvMotion:E(0),rampCol1:E(new we(.95,.71,.44)),rampPos1:E(.05),rampCol2:E(new we(.14,.05,.03)),rampPos2:E(.425),rampCol3:E(new we(0,0,0)),rampPos3:E(1),rampEmission:E(2),emissionColor:E(new we(.14,.129,.09)),backgroundIntensity:E(2)}}function Oa(e,t){return se(()=>{const n=e.stepSize,a=e.noiseFactor,o=e.power,r=e.originRadius,i=e.width,c=e.iterations,u=no.mul(U(1,1,-1)).xzy,m=qe(0,so.negate()),f=tt.mul(io).mul(U(1,1,-1)).xzy,w=te(u,f,m),j=Pe($e(tt,ro)).mul(U(1,1,-1)).xzy.negate().toVar(),v=Ia(u.xy).mul(a),h=j.mul(v),b=w.sub(h).toVar(),S=U(0).toVar(),T=$(0).toVar();lo(c,()=>{co(T.greaterThan(.995),()=>{uo()});const W=Pe(b),B=Ce(b),ie=n.mul(o).div(B.mul(B)),Y=po(B,1,.5,0,1),I=W.mul(ie.mul(Y)),me=Pe(j.sub(I)),z=j.mul(n);b.addAssign(z);const H=Ce(b.mul(U(1,1,0))),X=H.mul(4.27).sub(mo.mul(.1)),re=U(0,0,1),le=b.mul(Ba(re,X)).mul(2),fe=Te(t.noiseDeepTexture,le),q=i.negate(),p=U(q,0,i),x=$e(p,U(b.z)),y=x.mul(x).div(i),M=ho(i.sub(y).div(i),0),G=fe.xyz.mul(M),K=Ce(G),P=r.add(i.mul(.5)),Z=$(5e3).mul(He(P.div(H.max(.01)),$(.75))),ce=ft(Z.sub($(1e3)).div($(39e3)),$(0),$(1)),_e=Te(t.blackbodyTexture,ht(ce,$(.5))).rgb.mul(e.rampEmission).add(e.emissionColor),be=Ce(b).lessThan(r),Se=te(_e,U(0),be),ve=fo(b.z),je=K.sub(.75).mul(-.6),k=ve.add(je),_=ut(H,1,0,0,1),A=ut(k,i,0,0,_),J=te(A,1,be),V=T.oneMinus(),O=za(U(J)),ee=V.mul(O),ae=te(S,Se,ee),ne=te(T,1,O);b.addAssign(z),j.assign(me),S.assign(ae),T.assign(ne)});const L=j.mul(U(1,-1,1)).xzy,l=Da(Te(t.starsTexture,gt(L)).mul(e.backgroundIntensity)),N=$(1).sub(T),R=te(S,l,N.mul(1));return Pa(R)})()}function dt(e,t,n){const a=Math.PI*2;let o=(t-e)%a;return o>Math.PI&&(o-=a),o<-Math.PI&&(o+=a),e+o*n}function Oe(e){const n="./".endsWith("/")?"./":".//",a=e.startsWith("/")?e.slice(1):e;return`${n}${a}`}function Ua(e=256){const t=new Uint8Array(e*e*4);for(let a=0;a<e*e;a++){const o=a*4,r=Math.random(),i=Math.random(),c=Math.random();t[o+0]=Math.floor(255*r),t[o+1]=Math.floor(255*(.65*r+.35*i)),t[o+2]=Math.floor(255*(.45*r+.55*c)),t[o+3]=255}const n=new bt(t,e,e);return n.needsUpdate=!0,n.wrapS=Ae,n.wrapT=Ae,n.colorSpace=Ke,n}function $a(e=1024,t=512){const n=document.createElement("canvas");n.width=e,n.height=t;const a=n.getContext("2d");if(!a)throw new Error("Failed to create 2D context for fallback stars texture");a.fillStyle="#000",a.fillRect(0,0,e,t);for(let i=0;i<5500;i++){const c=Math.random()*e,u=Math.random()*t,m=Math.random()<.96?Math.random()*1:1+Math.random()*2.2,f=Math.random()<.98?.2+Math.random()*.6:.75+Math.random()*.25;a.globalAlpha=f,a.fillStyle="#fff",a.beginPath(),a.arc(c,u,m,0,Math.PI*2),a.fill()}a.globalAlpha=1;const o=a.createRadialGradient(e*.35,t*.55,0,e*.35,t*.55,e*.65);o.addColorStop(0,"rgba(90, 110, 255, 0.18)"),o.addColorStop(.4,"rgba(140, 70, 220, 0.10)"),o.addColorStop(1,"rgba(0, 0, 0, 0)"),a.fillStyle=o,a.fillRect(0,0,e,t);const r=new Oo(n);return r.needsUpdate=!0,r.mapping=vt,r.colorSpace=Ne,r}function Ga(e=256){const t=new Float32Array(e*4),n=o=>{const r=[{t:1e3,c:[1,.0337,0]},{t:2e3,c:[1,.2647,.0033]},{t:4e3,c:[1,.6636,.3583]},{t:6e3,c:[1,.9019,.8473]},{t:1e4,c:[.6268,.7039,1]},{t:2e4,c:[.4196,.5339,1]},{t:4e4,c:[.3563,.4745,1]}];for(let i=0;i<r.length-1;i++){const c=r[i],u=r[i+1];if(o>=c.t&&o<=u.t){const m=(o-c.t)/(u.t-c.t);return[c.c[0]+(u.c[0]-c.c[0])*m,c.c[1]+(u.c[1]-c.c[1])*m,c.c[2]+(u.c[2]-c.c[2])*m]}}return r[r.length-1].c};for(let o=0;o<e;o++){const r=1e3+o/(e-1)*39e3,[i,c,u]=n(r);t[o*4+0]=i,t[o*4+1]=c,t[o*4+2]=u,t[o*4+3]=1}const a=new bt(t,e,1,$o,Go);return a.needsUpdate=!0,a.minFilter=Ge,a.magFilter=Ge,a.wrapS=at,a.wrapT=at,a.colorSpace=Ke,a}function Wa(){return new Fo({depthTest:!1,depthWrite:!1,uniforms:{uTime:{value:0}},vertexShader:`
      varying vec2 vUv;
      void main() {
        vUv = uv;
        gl_Position = vec4(position.xy, 0.0, 1.0);
      }
    `,fragmentShader:`
      precision highp float;
      varying vec2 vUv;
      uniform float uTime;

      float hash21(vec2 p) {
        p = fract(p * vec2(123.34, 345.45));
        p += dot(p, p + 34.345);
        return fract(p.x * p.y);
      }

      float smoothRing(float r, float r0, float w) {
        float d = abs(r - r0);
        return exp(-(d * d) / (w * w));
      }

      void main() {
        vec2 uv = vUv * 2.0 - 1.0;
        uv.x *= 1.25;
        float r = length(uv);

        // Background stars (cheap)
        vec3 bg = vec3(0.01, 0.015, 0.02);
        vec2 sp = (uv * 0.75 + 0.5) * 900.0;
        float star = step(0.997, hash21(floor(sp)));
        float twinkle = 0.6 + 0.4 * sin(uTime * 1.8 + hash21(floor(sp)) * 6.2831);
        bg += star * twinkle * vec3(0.9, 0.95, 1.0);

        // Singularity ring
        float ring = smoothRing(r, 0.38, 0.055);
        // Swirl modulation
        float a = atan(uv.y, uv.x);
        float swirl = 0.6 + 0.4 * sin(8.0 * a + 14.0 * r - uTime * 0.7);
        float n = hash21(uv * 40.0 + uTime * 0.05);
        ring *= (0.55 + 0.65 * swirl) * (0.7 + 0.6 * n);

        vec3 hot = vec3(1.35, 0.82, 0.35);
        vec3 mid = vec3(0.95, 0.55, 0.22);
        vec3 col = mix(mid, hot, clamp(swirl, 0.0, 1.0)) * ring * 1.6;

        // Dark core (keep center darker than ring).
        float coreMask = smoothstep(0.16, 0.22, r);
        col *= coreMask;

        // Add faint nebula haze so the frame isn't flat when ring is dim.
        float haze = smoothstep(0.9, 0.0, r) * (0.35 + 0.65 * hash21(uv * 3.0 + 2.0));
        bg += haze * vec3(0.05, 0.08, 0.12);

        vec3 outCol = bg + col;
        // Simple tonemap-ish curve.
        outCol = 1.0 - exp(-outCol * 1.25);
        outCol = pow(outCol, vec3(1.0 / 2.2));

        gl_FragColor = vec4(outCol, 1.0);
      }
    `})}async function Va(e){const{canvas:t,debugRootEl:n,gizmoRootEl:a,diagnostics:o,onFirstFrame:r,getTargetRotation:i,getCameraMode:c,getJoystickInput:u,forceWebGL:m,showDebugPanel:f=!0,showGizmo:w=!0,showWireCube:d=!1,controlsEnabled:j=!1}=e,v=new go;if(v.background=null,m){const k=new bo(-1,1,1,-1,0,1),_=new vo({canvas:t,antialias:!0,alpha:!1,depth:!1,stencil:!1,powerPreference:"high-performance"});_.outputColorSpace=Ne,_.toneMapping=Ue,_.toneMappingExposure=1.2,_.setClearColor("#010101",1);const A=Wa(),J=new ot(new wo(2,2),A);v.add(J),a.innerHTML="",n.innerHTML="";const V=()=>{const ue=Math.max(1,Math.floor(window.innerWidth)),de=Math.max(1,Math.floor(window.innerHeight));_.setSize(ue,de,!1)};window.addEventListener("resize",V,{passive:!0}),V();let O=0,ee=performance.now();const ae=performance.now();let ne=!1;return _.setAnimationLoop(()=>{const ue=performance.now();O++;const de=ue-ee;de>=1e3&&(window.__BH_FPS__=Math.round(O*1e3/de),O=0,ee=ue),A.uniforms.uTime.value=(ue-ae)/1e3,_.render(v,k),o.frameCount+=1,!o.ready&&o.frameCount>2&&(o.ready=!0),!ne&&o.frameCount>2&&(ne=!0,r?.())}),{dispose:()=>{_.setAnimationLoop(null),window.removeEventListener("resize",V),A.dispose(),J.geometry.dispose(),_.dispose()}}}const h=new yo(50,1,.1,2e3);h.position.set(1,.5,3),h.lookAt(0,0,0);const b=new xo({canvas:t,antialias:!0,alpha:!1,stencil:!1,depth:!0,forceWebGL:!!m});b.shadowMap.enabled=!0,b.shadowMap.type=ko,b.outputColorSpace=Ne,b.toneMapping=Ue,b.toneMappingExposure=1.2,b.setClearColor("#010101",1);const S=Fa();!f&&!w&&!j&&(S.iterations.value=96);const L=new _o,l=Oe("assets/singularity/noise_deep.png"),N=Oe("assets/singularity/nebula_background.png"),R=Oe("assets/singularity/nebula_background_backup.png");let W,B;try{W=await L.loadAsync(l),W.wrapS=Ae,W.wrapT=Ae,W.colorSpace=Ke,W.needsUpdate=!0}catch{W=Ua()}const ie=k=>{k.mapping=vt,k.colorSpace=Ne,k.generateMipmaps=!0,k.minFilter=Uo,k.magFilter=Ge;const _=b.capabilities,A=typeof _?.getMaxAnisotropy=="function"?_.getMaxAnisotropy():_?.maxAnisotropy;typeof A=="number"&&(k.anisotropy=A),k.needsUpdate=!0};try{B=await L.loadAsync(N)}catch{try{B=await L.loadAsync(R)}catch{B=$a()}}ie(B),v.backgroundNode=Te(B,gt()).mul(S.backgroundIntensity);const Y=new So(1,16,16),I=new jo({side:Mo}),me=Ga(),z=Oa(S,{noiseDeepTexture:W,starsTexture:B,blackbodyTexture:me});I.colorNode=z,I.emissiveNode=z,I.roughness=1,I.metalness=0;const H=new ot(Y,I);v.add(H);const X=new Co,re=2.65,he=new To(re,re,re),le=new No(he,18),fe=new Ao({color:new we(.55,.74,1),transparent:!0,opacity:0}),q=new Eo(le,fe);q.visible=d,X.add(q),v.add(X);const p=new Wo(h,t);p.enableDamping=!0,p.enabled=j,p.minDistance=0,p.maxDistance=1e3,p.target.set(0,0,0);let x=Math.atan2(h.position.x,h.position.z),y=h.position.length(),M=Math.atan2(h.position.y,Math.sqrt(h.position.x*h.position.x+h.position.z*h.position.z));const G=(k,_,A)=>Math.max(_,Math.min(A,k)),K=()=>{const k=Math.cos(M),_=Math.sin(M),A=y*k*Math.sin(x),J=y*_,V=y*k*Math.cos(x);h.position.set(A,J,V),h.lookAt(0,0,0),p.target.set(0,0,0)};K(),a.innerHTML="";let P=null;w&&(P=new St(h,{size:100,padding:8}),a.appendChild(P));let F=null,Z=null,ce=null;const ke=()=>{const k=Math.max(1,Math.floor(window.innerWidth)),_=Math.max(1,Math.floor(window.innerHeight)),A=f||w||j?4e6:16e5,J=window.devicePixelRatio||1,V=Math.sqrt(A/(k*_)),O=Math.max(.5,Math.min(J,2,V));b.setPixelRatio(O),b.setSize(k,_,!1),h.aspect=k/_,h.updateProjectionMatrix(),F&&"needsUpdate"in F&&(F.needsUpdate=!0)};window.addEventListener("resize",ke,{passive:!0}),ke(),await b.init(),F=new Lo(b);const _e=Ro(v,h);_e.setMRT(Bo({output:Do,emissive:Po}));const Le=_e.getTextureNode("output");Z=Vo(Le),Z.strength.value=.217,Z.radius.value=0,Z.threshold.value=0,F.outputNode=Io(Le,Z),f&&(ce=La({debugRootEl:n,renderer:b,bloom:Z,uniforms:S}));let be=!1,Se=performance.now(),ve=0,je=performance.now();return b.setAnimationLoop(()=>{const k=performance.now();ve++;const _=k-je;_>=1e3&&(window.__BH_FPS__=Math.round(ve*1e3/_),ve=0,je=k);const A=G((k-Se)/1e3,1/240,.05);Se=k;const J=c?.()??"auto",V=u?.()??{x:0,y:0},O=k/1e3,ee=2.2,ae=4.5;if(J==="joystick"){x+=V.x*2*A,y-=V.y*3*A,y=G(y,ee,ae);const Re=.18+Math.sin(O*.08)*.05;M=M+(Re-M)*.02,K()}else if(J==="static")K();else{const de=O%90/90,Re=Math.sin(de*Math.PI*2)*.5+.5,Ze=ae-Re*(ae-ee),Ct=(.03+(1-(Ze-ee)/(ae-ee))*.08)*.7,Tt=O*Ct+Math.sin(O*.05)*.15,Nt=.18+Math.sin(O*.08)*.08,Be=1-Math.exp(-A*.8);x=dt(x,Tt,Be),M=M+(Nt-M)*Be,y=y+(Ze-y)*Be*.5,K()}p.update(),P?.update(),ce?.update();const ne=i?.();ne&&(X.rotation.x=zo.lerp(X.rotation.x,ne.x,.12),X.rotation.y=dt(X.rotation.y,ne.y,.12)),F?F.render():b.render(v,h),o.frameCount+=1,!o.ready&&o.frameCount>2&&(o.ready=!0),!be&&o.frameCount>2&&(be=!0,r?.())}),{dispose:()=>{b.setAnimationLoop(null),window.removeEventListener("resize",ke),ce?.dispose(),p.dispose(),Y.dispose(),I.dispose(),le.dispose(),he.dispose(),fe.dispose(),F?.dispose?.(),b.dispose(),me.dispose(),P&&P.parentNode===a&&a.removeChild(P)}}}function Ha(){return typeof navigator<"u"&&typeof navigator.gpu<"u"}function qa(e){const{isGameMode:t=!1,joystickInput:n={x:0,y:0}}=e,a=g.useRef(null),o=g.useRef(null),r=g.useRef(null),i=g.useRef(!1),c=g.useRef({x:0,y:0});return g.useEffect(()=>{i.current=t,c.current=n},[t,n]),g.useEffect(()=>{const u=a.current,m=o.current,f=r.current;if(!u||!m||!f)return;const w=!Ha(),d={ready:!1,renderer:w?"webgl":"webgpu",frameCount:0};let j=!1,v=null,h=null;return m.style.display="none",f.style.display="none",(async()=>{const b=async S=>{let T=!1;d.renderer=S?"webgl":"webgpu";const{dispose:L}=await Va({canvas:u,debugRootEl:m,gizmoRootEl:f,diagnostics:d,onFirstFrame:()=>{T=!0,h&&(window.clearTimeout(h),h=null)},getCameraMode:()=>i.current?"joystick":"auto",getJoystickInput:()=>c.current,forceWebGL:S,showDebugPanel:!1,showGizmo:!1,showWireCube:!1,controlsEnabled:!1});return S||(h=window.setTimeout(()=>{if(!(j||T)){try{L()}catch{}b(!0).then(l=>{if(j){l();return}v=l}).catch(()=>{})}},2e3)),L};try{const S=await b(w);if(j){S();return}v=S}catch{if(w)return;try{const S=await b(!0);if(j){S();return}v=S}catch{}}})(),()=>{j=!0,h&&(window.clearTimeout(h),h=null),v?.(),v=null}},[]),s.jsxs("div",{className:"singularity-bg","aria-hidden":"true",style:{position:"absolute",inset:0,zIndex:0,pointerEvents:"none"},children:[s.jsx("canvas",{ref:a,className:"singularity-bg__canvas",style:{width:"100%",height:"100%",display:"block"}}),s.jsx("div",{ref:o}),s.jsx("div",{ref:r})]})}const Ka=g.lazy(()=>Qo(()=>import("./Scene3D-CE9Sbp-m.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url).then(e=>({default:e.Scene3D}))),jt=700,Ja=220,Qa=200,Ya=2200,pt=["ru","en","uk"],Xa={ru:"Моё портфолио загружается...",en:"My portfolio is loading...",uk:"Моє портфоліо завантажується..."},Za={ru:"3D Cube Portfolio",en:"3D Cube Portfolio",uk:"3D Cube Portfolio"},Mt="stekolschikov-locale";function en(){if(typeof navigator>"u")return"ru";const t=(Array.isArray(navigator.languages)&&navigator.languages.length>0?navigator.languages:[navigator.language]).map(n=>String(n||"").toLowerCase());return t.some(n=>n.startsWith("uk")||n.startsWith("ua"))?"uk":t.some(n=>n.startsWith("ru"))?"ru":"en"}function tn(){try{const e=localStorage.getItem(Mt);if(e==="ru"||e==="en"||e==="uk")return e}catch{}return en()}function on(){return window.matchMedia(`(max-width: ${jt}px)`).matches}function an(){const[e,t]=g.useState(()=>tn()),[n,a]=g.useState(localStorage.getItem("stekolshchykov_active_face")||"welcome"),[o,r]=g.useState(De[n]),[i,c]=g.useState(0),[u,m]=g.useState(()=>on()),[f,w]=g.useState(""),[d,j]=g.useState(0),[v,h]=g.useState(null),[b,S]=g.useState(!1),[T,L]=g.useState(!0),[l,N]=g.useState(!1),[R,W]=g.useState(!1),[B,ie]=g.useState({x:0,y:0}),Y=g.useRef(null),I=g.useRef(null),me=g.useRef(typeof performance<"u"?performance.now():Date.now()),z=Ee[e],H=g.useMemo(()=>({welcome:z.welcome,skills:z.skills,about:z.about,cooperation:z.cooperation,contacts:z.contacts,work:z.work}),[z]);g.useEffect(()=>{D("info","app","App mounted",{locale:e,activeFace:n,isMobile:u})},[]),g.useEffect(()=>{const p=window.matchMedia(`(max-width: ${jt}px)`),x=y=>{D("info","viewport","Viewport mode changed",{isMobile:y.matches}),m(y.matches)};return p.addEventListener?(p.addEventListener("change",x),()=>p.removeEventListener("change",x)):(p.addListener(x),()=>p.removeListener(x))},[]),g.useEffect(()=>{D("debug","app-state","Locale changed",{locale:e})},[e]),g.useEffect(()=>{D("debug","app-state","Face changed",{activeFace:n}),Fe("navigation.menu.rendered",{face:n},"debug")},[n]),g.useEffect(()=>{D("debug","app-state","Layout mode changed",{isMobile:u})},[u]),g.useEffect(()=>{if(!(typeof document>"u"))return document.body.classList.toggle("mobile-active",u),()=>document.body.classList.remove("mobile-active")},[u]),g.useEffect(()=>{if(u)return;const p=Aa();return()=>{p()}},[u]),g.useEffect(()=>()=>{Y.current&&window.clearTimeout(Y.current),I.current&&window.clearTimeout(I.current)},[]),g.useEffect(()=>{if(!(u||b)||!T||l)return;const y=(typeof performance<"u"?performance.now():Date.now())-me.current,M=Math.max(0,Ja-y),G=window.setTimeout(()=>N(!0),M);return()=>{window.clearTimeout(G)}},[u,b,T,l]),g.useEffect(()=>{if(!T||!l)return;const p=window.setTimeout(()=>L(!1),Qa);return()=>{window.clearTimeout(p)}},[T,l]),g.useEffect(()=>{if(!T||l)return;const p=window.setTimeout(()=>N(!0),Ya);return()=>{window.clearTimeout(p)}},[T,l]);const X=g.useCallback(()=>{S(!0)},[]),re=p=>{D("debug","ui","Pulse triggered",{label:p}),w(p),j(x=>x+1),Y.current&&window.clearTimeout(Y.current),Y.current=window.setTimeout(()=>{w("")},700)},he=p=>{D("info","locale","Locale switch requested",{from:e,to:p}),localStorage.setItem(Mt,p),t(p)},le=p=>{h(p),u||ct(),I.current&&window.clearTimeout(I.current),I.current=window.setTimeout(()=>{h(null)},180)},fe=p=>x=>{x.preventDefault();const y=x.currentTarget;y.setPointerCapture(x.pointerId);const M=y.getBoundingClientRect(),G=F=>{const Z=((F.clientX-M.left)/M.width-.5)*2,ce=((F.clientY-M.top)/M.height-.5)*2;p({x:Math.max(-1,Math.min(1,Z)),y:Math.max(-1,Math.min(1,ce))})};G(x.nativeEvent);const K=F=>G(F),P=()=>{p({x:0,y:0}),window.removeEventListener("pointermove",K),window.removeEventListener("pointerup",P)};window.addEventListener("pointermove",K),window.addEventListener("pointerup",P)},q=(p,x=!1,y)=>{const M=n,G=De[M],K=Object.keys(G).find(P=>G[P]===p);D("info","navigation","Face change requested",{from:M,to:p,direction:K??"direct",nav:G,withPulse:x}),y?.source==="key"&&y.direction&&(Fe("navigation.input.key",{key:y.key,direction:y.direction,to:p}),le(y.direction)),y?.source==="click"&&y.direction&&(Fe("navigation.input.click",{direction:y.direction,to:p}),le(y.direction)),!u&&M!==p&&Ea(),a(p),c(P=>P+1),x&&!u&&re(H[p])};return g.useEffect(()=>{const p=x=>{if(u)return;if(x.code==="Escape"&&R){x.preventDefault(),W(!1),ie({x:0,y:0});return}if(R)return;const y=ca(x.code);if(!y)return;x.preventDefault();const M=De[n][y];q(M,!0,{source:"key",key:x.code,direction:y})};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[n,u,R]),s.jsxs(s.Fragment,{children:[s.jsx(Ta,{locale:e,activeFace:n}),T?s.jsx(Ca,{leaving:l,label:Xa[e],title:Ee[e].personName,subtitle:Za[e]}):null,u?s.jsx(Ma,{locale:e,locales:pt,activeFace:n,onFaceChange:p=>q(p,!1),onLocaleChange:he}):s.jsxs("div",{className:"cube-app",children:[s.jsx(qa,{isGameMode:R,joystickInput:B}),s.jsx(g.Suspense,{fallback:s.jsx("div",{className:"scene-fallback"}),children:s.jsx(Ka,{activeFaceId:n,targetRotation:la[n],locale:e,onReady:X,isGameMode:R,joystickInput:B,navigationTrigger:i,withSingularityBackground:!0,onActiveFaceChange:(p,x)=>{p!==n&&a(p),r(x)}})}),s.jsx("header",{className:"cube-header",children:s.jsxs("div",{className:"lang-switcher","aria-label":z.language,children:[!R&&pt.map(p=>s.jsx(yt,{active:p===e,onClick:()=>he(p),children:p.toUpperCase()},p)),s.jsx("button",{className:`game-mode-btn ${R?"active":""}`,onClick:()=>{R||ct(),W(p=>!p),ie({x:0,y:0})},"aria-label":R?"Exit Game Mode":"Enter Game Mode",type:"button",children:R?"✕":"🎮"})]})}),f?s.jsx("div",{className:"face-pulse","aria-live":"polite",children:f},`${f}-${d}`):null,s.jsx("nav",{className:"desktop-nav","aria-label":"Cube navigation",children:s.jsx("div",{className:"keyboard-deck",children:R?s.jsx("div",{className:"joystick-grid menu-roll-in",children:s.jsxs("div",{className:"joystick-container",children:[s.jsx("div",{className:"joystick-pad",onPointerDown:fe(ie),"aria-label":"Move joystick",children:s.jsx("div",{className:"joystick-knob",style:{transform:`translate(${B.x*40}px, ${B.y*40}px)`}})}),s.jsx("span",{className:"joystick-label",children:"MOVE"})]})}):s.jsxs("div",{className:"arrow-cluster menu-roll-in",children:[s.jsx(Me,{className:"key-up",code:ye[o.up],direction:"up",label:H[o.up],pressed:v==="up",ariaKeyShortcuts:"ArrowUp W",onClick:()=>q(o.up,!0,{source:"click",direction:"up"})}),s.jsxs("div",{className:"arrow-row",children:[s.jsx(Me,{className:"key-left",code:ye[o.left],direction:"left",label:H[o.left],pressed:v==="left",ariaKeyShortcuts:"ArrowLeft A",onClick:()=>q(o.left,!0,{source:"click",direction:"left"})}),s.jsx(Me,{className:"key-down",code:ye[o.down],direction:"down",label:H[o.down],pressed:v==="down",ariaKeyShortcuts:"ArrowDown S",onClick:()=>q(o.down,!0,{source:"click",direction:"down"})}),s.jsx(Me,{className:"key-right",code:ye[o.right],direction:"right",label:H[o.right],pressed:v==="right",ariaKeyShortcuts:"ArrowRight D",onClick:()=>q(o.right,!0,{source:"click",direction:"right"})})]})]})})})]})]})}function nn(){return s.jsx(an,{})}ya();D("info","bootstrap","App bootstrap started");qo({dsn:"http://f5252e35da6842b8ab7fcc187a1e5566@45.88.106.237:4001/3",environment:"production",tracesSampleRate:.2,beforeBreadcrumb(e){return e.category==="console"&&typeof e.message=="string"&&e.message.includes("GPU stall due to ReadPixels")?null:(e.category==="console"&&typeof e.message=="string"&&e.message.includes("WebGL context lost")&&(e.level="warning"),e)}});Rt.createRoot(document.getElementById("root")).render(s.jsx(g.StrictMode,{children:s.jsx(Bt,{children:s.jsx(nn,{})})}));export{ja as G,pn as U,Qo as _,Fe as a,mn as b,gn as c,hn as d,fn as e,bn as f,vn as g,Ie as h,Yo as i,Xo as j,oa as k,D as l,aa as m,na as n,ge as o,st as p,da as q,ra as r,wt as s,ia as t,Ee as u,Je as v,Zo as w,ea as x};
