var r=Object.defineProperty;var g=(i,t,o)=>t in i?r(i,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[t]=o;var n=(i,t,o)=>g(i,typeof t!="symbol"?t+"":t,o);const e=class e{constructor(){n(this,"logs",[]);n(this,"maxLogs",600);n(this,"isRecording",!1)}static getInstance(){return e.instance||(e.instance=new e),e.instance}start(){this.isRecording=!0,this.logs=[],console.log("[Telemetry] Started recording...")}stop(){this.isRecording=!1,console.log(`[Telemetry] Stopped. Captured ${this.logs.length} frames.`),this.dump()}logFrame(t,o,s,a){this.isRecording&&(this.logs.push({timestamp:Date.now(),joystickLeft:{...t},joystickRight:{...o},cameraRotation:{x:s.rotation.x,y:s.rotation.y,z:s.rotation.z},isGameMode:a}),this.logs.length>=this.maxLogs&&this.stop())}dump(){if(this.logs.length===0)return;const t=this.logs.filter(o=>Math.abs(o.joystickRight.x)>.1||Math.abs(o.joystickRight.y)>.1);if(console.group("[Telemetry Analysis]"),console.log("Total Frames:",this.logs.length),console.log("Frames with Look Input:",t.length),t.length>0){const o=t[0],s=t[t.length-1],a=Math.abs(s.cameraRotation.x-o.cameraRotation.x),l=Math.abs(s.cameraRotation.y-o.cameraRotation.y);console.log("First Active Frame:",o),console.log("Last Active Frame:",s),console.log(`Delta Rotation: X=${a.toFixed(4)}, Y=${l.toFixed(4)}`),a<.001&&l<.001?console.error("❌ FAIL: Joystick input detected but Camera did NOT rotate!"):console.log("✅ PASS: Camera rotation detected during input.")}else console.warn("⚠️ No significant look input detected in logs.");console.groupEnd()}};n(e,"instance");let c=e;export{c as TelemetryLogger};
